# Курс основ программирования на МКН СПбГУ
## Проект 2: key-value база данных

[Постановка задачи](./TASK.md)

### Описание работы программы
Утилита для доступа к базе данных реализована в файле main.kt.
Программа принимает аргументы из командной строки и выводит
результат в стандартный поток вывода.

На вход программе даётся команда, а затем её параметры через пробел.

В файлах базы данных хранятся логи операций и для удаления устаревшей
информации о добавлении или удалении ключа необходимо иногда вызывать
команду mergedb.

### Команды для управления базой данных

* newdb \[имя базы данных] - создаёт новую базу данных с заданным именем
* deletedb \[имя базы данных] - удаляет существующую базу данных
* cleardb \[имя базы данных] - удаляет все ключи из базы данных
* insert \[имя базы данных] \[ключ] \[значение] - добавляет в базу данных
пару ключ значение
* remove \[имя базы данных] \[ключ] - удаляет ключ из базы данных
* get \[имя базы данных] \[ключ] - получает значение из базы данных
по ключу
* mergedb \[имя базы данных] - сокращает логи операций удаляя устаревшую
информацию о добавлении и удалении ключей

### Примеры использования программы

> newdb Database1

Создана база данных Database1

> insert Database1 key1 value1

> insert Database1 key2 value2

> remove Database1 key1

> insert Database1 key2 value3

> get Database1 key2

Вывод: **value3**

В базе данных хранятся логи:

<pre>
+ key1 value1
+ key2 value2
- key1
+ key2 value3
</pre>

> mergedb Database1

Логи сократились до:
<pre>
+ key2 value3
</pre>

> cleardb Database1

Логи становятся пустыми

> deletedb Database1

База данных Database1 удалена